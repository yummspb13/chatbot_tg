# –ü–æ–ª–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å —Ä–∞–±–æ—Ç—ã —Å–∏—Å—Ç–µ–º—ã - –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

## üîÑ –ü–æ–ª–Ω—ã–π Flow –æ—Ç –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –¥–æ –æ–±—Ä–∞–±–æ—Ç–∫–∏

### –≠—Ç–∞–ø 1: –ü—É–±–ª–∏–∫–∞—Ü–∏—è —Å–æ–æ–±—â–µ–Ω–∏—è –≤ –∫–∞–Ω–∞–ª–µ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–∞
**–ì–¥–µ:** Telegram –∫–∞–Ω–∞–ª (–Ω–∞–ø—Ä–∏–º–µ—Ä, "–¢–µ—Å—Ç –ö–∏–¥–¥")
**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:** –í—ã –ø—É–±–ª–∏–∫—É–µ—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ –∫–∞–Ω–∞–ª–µ

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
- ‚úÖ –°–æ–æ–±—â–µ–Ω–∏–µ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–æ –≤ –∫–∞–Ω–∞–ª–µ?
- ‚úÖ –ö–∞–Ω–∞–ª –¥–æ–±–∞–≤–ª–µ–Ω –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ `/addchannel`?
- ‚úÖ –ö–∞–Ω–∞–ª –∞–∫—Ç–∏–≤–µ–Ω (`isActive: true`)?

---

### –≠—Ç–∞–ø 2: Worker –ø–æ–ª—É—á–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ —á–µ—Ä–µ–∑ Client API
**–ì–¥–µ:** Render.com Worker (`https://chatbot-tg.onrender.com`)
**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:** 
- Worker –ø–æ–¥–∫–ª—é—á–µ–Ω –∫ Telegram —á–µ—Ä–µ–∑ Client API (–∞–∫–∫–∞—É–Ω—Ç @yummspb)
- Worker —Å–ª—É—à–∞–µ—Ç –Ω–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –∏–∑ –∫–∞–Ω–∞–ª–æ–≤
- –ö–æ–≥–¥–∞ –ø—Ä–∏—Ö–æ–¥–∏—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ, worker –ø–æ–ª—É—á–∞–µ—Ç –µ–≥–æ —á–µ—Ä–µ–∑ MTProto

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
1. Worker –∑–∞–ø—É—â–µ–Ω?
   ```bash
   curl https://chatbot-tg.onrender.com/runner/status
   ```
   –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: `"isRunning": true, "monitoring": { "isMonitoring": true, "isConnected": true }`

2. Worker –ø–æ–¥–∫–ª—é—á–µ–Ω –∫ Telegram?
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –Ω–∞ Render.com Dashboard
   - –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: `‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω –∫ Telegram —á–µ—Ä–µ–∑ Client API`

3. Worker –ø–æ–ª—É—á–∏–ª —Å–ø–∏—Å–æ–∫ –∫–∞–Ω–∞–ª–æ–≤?
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `‚úÖ –ü–æ–ª—É—á–µ–Ω–æ X –∫–∞–Ω–∞–ª–æ–≤ –∏–∑ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è`
   - –ò–ª–∏: `‚ö†Ô∏è –ù–µ—Ç –∫–∞–Ω–∞–ª–æ–≤ –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞`

4. Worker –ø–æ–ª—É—á–∏–ª —Å–æ–æ–±—â–µ–Ω–∏–µ?
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `üì® –ü–æ–ª—É—á–µ–Ω–æ —Å–æ–æ–±—â–µ–Ω–∏–µ –∏–∑ –∫–∞–Ω–∞–ª–∞ ...`

**–í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:**
- ‚ùå `TELEGRAM_SESSION_STRING` –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω ‚Üí Worker –Ω–µ –º–æ–∂–µ—Ç –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è
- ‚ùå –ö–∞–Ω–∞–ª—ã –Ω–µ –ø–æ–ª—É—á–µ–Ω—ã ‚Üí API –∫–∞–Ω–∞–ª–æ–≤ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –∏–ª–∏ –Ω–µ –∑–∞–¥–µ–ø–ª–æ–µ–Ω
- ‚ùå Worker –Ω–µ –∑–∞–ø—É—â–µ–Ω ‚Üí –ù—É–∂–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å —á–µ—Ä–µ–∑ `/runner/start`
- ‚ùå –ê–∫–∫–∞—É–Ω—Ç @yummspb –Ω–µ –ø–æ–¥–ø–∏—Å–∞–Ω –Ω–∞ –∫–∞–Ω–∞–ª ‚Üí Worker –Ω–µ —É–≤–∏–¥–∏—Ç —Å–æ–æ–±—â–µ–Ω–∏—è

---

### –≠—Ç–∞–ø 3: Worker –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –±–æ—Ç—É —á–µ—Ä–µ–∑ webhook
**–ì–¥–µ:** Worker ‚Üí Vercel (`https://chatbot-irhw19y8p-pixelprint.vercel.app/api/tg/webhook`)
**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**
- Worker —Å–æ–∑–¥–∞–µ—Ç update –≤ —Ñ–æ—Ä–º–∞—Ç–µ Telegram Bot API
- Worker –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç POST –∑–∞–ø—Ä–æ—Å –Ω–∞ webhook –±–æ—Ç–∞
- Update —Å–æ–¥–µ—Ä–∂–∏—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –ø–µ—Ä–µ—Å–ª–∞–Ω–Ω–æ–º —Å–æ–æ–±—â–µ–Ω–∏–∏ –∏–∑ –∫–∞–Ω–∞–ª–∞

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
1. Worker –æ—Ç–ø—Ä–∞–≤–∏–ª —Å–æ–æ–±—â–µ–Ω–∏–µ?
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ worker'–∞: `‚úÖ –°–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ –±–æ—Ç—É —á–µ—Ä–µ–∑ webhook`
   - –ò–ª–∏: `‚ùå –û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ –±–æ—Ç—É: ...`

2. Webhook –¥–æ—Å—Ç—É–ø–µ–Ω?
   ```bash
   curl -X POST https://chatbot-irhw19y8p-pixelprint.vercel.app/api/tg/webhook \
        -H "Content-Type: application/json" \
        -d '{"update_id":1,"message":{"message_id":1,"from":{"id":1},"chat":{"id":-100123,"type":"channel"},"date":1234567890,"text":"test"}}'
   ```

**–í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:**
- ‚ùå `BOT_WEBHOOK_URL` –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –≤ worker ‚Üí Worker –Ω–µ –∑–Ω–∞–µ—Ç, –∫—É–¥–∞ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å
- ‚ùå Webhook –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω ‚Üí Vercel –Ω–µ –∑–∞–¥–µ–ø–ª–æ–∏–ª –∏–ª–∏ –æ—à–∏–±–∫–∞
- ‚ùå CORS –æ—à–∏–±–∫–∞ ‚Üí –ù—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ CORS

---

### –≠—Ç–∞–ø 4: –ë–æ—Ç –ø–æ–ª—É—á–∞–µ—Ç –∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ
**–ì–¥–µ:** Vercel (`app/api/tg/webhook/route.ts`)
**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**
- –ë–æ—Ç –ø–æ–ª—É—á–∞–µ—Ç update —á–µ—Ä–µ–∑ webhook
- –ë–æ—Ç –ø—Ä–æ–≤–µ—Ä—è–µ—Ç, —á—Ç–æ —ç—Ç–æ –ø–µ—Ä–µ—Å–ª–∞–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –∏–∑ –∫–∞–Ω–∞–ª–∞
- –ë–æ—Ç –≤—ã–∑—ã–≤–∞–µ—Ç `handleChannelMessage()`

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
1. –ë–æ—Ç –ø–æ–ª—É—á–∏–ª update?
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ Vercel: `üì® [HANDLER] –ü–æ–ª—É—á–µ–Ω–æ –ø–µ—Ä–µ—Å–ª–∞–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –∏–∑ –∫–∞–Ω–∞–ª–∞!`
   - –ò–ª–∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –±–æ—Ç–∞ (–µ—Å–ª–∏ –µ—Å—Ç—å)

2. –ë–æ—Ç –Ω–∞—à–µ–ª –∫–∞–Ω–∞–ª –≤ –±–∞–∑–µ?
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `‚úÖ –ö–∞–Ω–∞–ª –Ω–∞–π–¥–µ–Ω: "–¢–µ—Å—Ç –ö–∏–¥–¥" (ID: 1)`
   - –ò–ª–∏: `‚ùå –ö–∞–Ω–∞–ª -1003442736774 –Ω–µ –Ω–∞–π–¥–µ–Ω –≤ –±–∞–∑–µ –∏–ª–∏ –Ω–µ–∞–∫—Ç–∏–≤–µ–Ω`

3. –ë–æ—Ç –∑–∞–ø—É—â–µ–Ω?
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á–µ—Ä–µ–∑ `/status` –≤ Telegram –±–æ—Ç–µ
   - –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: `–ë–æ—Ç –∑–∞–ø—É—â–µ–Ω, —Ä–µ–∂–∏–º: MANUAL`

**–í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:**
- ‚ùå –ë–æ—Ç –Ω–µ –∑–∞–ø—É—â–µ–Ω ‚Üí –ù—É–∂–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å —á–µ—Ä–µ–∑ `/start`
- ‚ùå –ö–∞–Ω–∞–ª –Ω–µ –Ω–∞–π–¥–µ–Ω –≤ –±–∞–∑–µ ‚Üí –ù—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —á–µ—Ä–µ–∑ `/addchannel`
- ‚ùå –ö–∞–Ω–∞–ª –Ω–µ–∞–∫—Ç–∏–≤–µ–Ω ‚Üí –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `isActive: true` –≤ –±–∞–∑–µ

---

### –≠—Ç–∞–ø 5: –ë–æ—Ç –∫–ª–∞—Å—Å–∏—Ñ–∏—Ü–∏—Ä—É–µ—Ç –∏ –∏–∑–≤–ª–µ–∫–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ
**–ì–¥–µ:** Vercel (OpenAI API)
**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**
- –ë–æ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ OpenAI –¥–ª—è –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏
- –ë–æ—Ç –∏–∑–≤–ª–µ–∫–∞–µ—Ç –ø–æ–ª—è —Å–æ–±—ã—Ç–∏—è (title, date, location –∏ —Ç.–¥.)
- –ë–æ—Ç –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞ –¥—É–±–ª–∏–∫–∞—Ç—ã

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
1. –ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è –ø—Ä–æ—à–ª–∞?
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `‚úÖ –ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è —É—Å–ø–µ—à–Ω–∞: EVENT`
   - –ò–ª–∏: `‚ùå –û—à–∏–±–∫–∞ –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏: ...`

2. –ü–æ–ª—è –∏–∑–≤–ª–µ—á–µ–Ω—ã?
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `‚úÖ –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è –∏–∑–≤–ª–µ—á–µ–Ω—ã`
   - –ò–ª–∏: `‚ùå –ù–µ —É–¥–∞–ª–æ—Å—å –∏–∑–≤–ª–µ—á—å –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è`

**–í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:**
- ‚ùå OpenAI API –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω ‚Üí –û—à–∏–±–∫–∞ 403 (—Ä–µ–≥–∏–æ–Ω) –∏–ª–∏ –Ω–µ—Ç –∫–ª—é—á–∞
- ‚ùå –ù–µ —É–¥–∞–ª–æ—Å—å –∏–∑–≤–ª–µ—á—å title –∏–ª–∏ startDate ‚Üí –°–æ–æ–±—â–µ–Ω–∏–µ –ø—Ä–æ–ø—É—â–µ–Ω–æ
- ‚ùå –î—É–±–ª–∏–∫–∞—Ç –Ω–∞–π–¥–µ–Ω ‚Üí –°–æ–æ–±—â–µ–Ω–∏–µ –ø—Ä–æ–ø—É—â–µ–Ω–æ

---

### –≠—Ç–∞–ø 6: –ë–æ—Ç —Å–æ–∑–¥–∞–µ—Ç —Å–æ–±—ã—Ç–∏–µ –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –Ω–∞ –æ–¥–æ–±—Ä–µ–Ω–∏–µ
**–ì–¥–µ:** Vercel ‚Üí Telegram –∞–¥–º–∏–Ω—É
**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**
- –ë–æ—Ç —Å–æ–∑–¥–∞–µ—Ç DraftEvent –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
- –ë–æ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∫–∞—Ä—Ç–æ—á–∫—É —Å–æ–±—ã—Ç–∏—è –∞–¥–º–∏–Ω—É (TELEGRAM_ADMIN_CHAT_ID)
- –ê–¥–º–∏–Ω –≤–∏–¥–∏—Ç –∫–Ω–æ–ø–∫–∏ "Approve" / "Reject"

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
1. –°–æ–±—ã—Ç–∏–µ —Å–æ–∑–¥–∞–Ω–æ?
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –∏–ª–∏ –ª–æ–≥–∏: `‚úÖ –°–æ–±—ã—Ç–∏–µ —Å–æ–∑–¥–∞–Ω–æ`

2. –ö–∞—Ä—Ç–æ—á–∫–∞ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞ –∞–¥–º–∏–Ω—É?
   - –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Telegram –∞–¥–º–∏–Ω–∞ (ID: 7007868967)
   - –î–æ–ª–∂–Ω–∞ –±—ã—Ç—å –∫–∞—Ä—Ç–æ—á–∫–∞ —Å –∫–Ω–æ–ø–∫–∞–º–∏

**–í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:**
- ‚ùå `TELEGRAM_ADMIN_CHAT_ID` –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω ‚Üí –ö–∞—Ä—Ç–æ—á–∫–∞ –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞
- ‚ùå –û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏ –≤ Telegram ‚Üí –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `TELEGRAM_BOT_TOKEN`

---

## üîç –ü–æ—à–∞–≥–æ–≤–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

### –®–∞–≥ 1: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å worker
```bash
curl https://chatbot-tg.onrender.com/runner/status
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```json
{
  "isRunning": true,
  "monitoring": {
    "isMonitoring": true,
    "isConnected": true
  }
}
```

**–ï—Å–ª–∏ `isMonitoring: false`:**
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ worker'–∞ –Ω–∞ Render.com
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `TELEGRAM_SESSION_STRING` —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –∫–∞–Ω–∞–ª—ã –ø–æ–ª—É—á–µ–Ω—ã –∏–∑ API

---

### –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ API –∫–∞–Ω–∞–ª–æ–≤
```bash
curl -H "Authorization: Bearer 17d38eb4c014c524e52675ab75661f0dcc8768cbc749a62e7309fabe6c9905cd" \
     https://chatbot-irhw19y8p-pixelprint.vercel.app/api/channels
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```json
{
  "channels": [
    {
      "chatId": "-1003442736774",
      "title": "–¢–µ—Å—Ç –ö–∏–¥–¥"
    }
  ]
}
```

**–ï—Å–ª–∏ 404:**
- API –Ω–µ –∑–∞–¥–µ–ø–ª–æ–µ–Ω –Ω–∞ Vercel
- –ù—É–∂–Ω–æ –ø–æ–¥–æ–∂–¥–∞—Ç—å –¥–µ–ø–ª–æ—è –∏–ª–∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É —Ñ–∞–π–ª–æ–≤

---

### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ worker'–∞
–ù–∞ Render.com Dashboard ‚Üí Logs

**–ß—Ç–æ –∏—Å–∫–∞—Ç—å:**
- `‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω –∫ Telegram —á–µ—Ä–µ–∑ Client API`
- `‚úÖ –ü–æ–ª—É—á–µ–Ω–æ X –∫–∞–Ω–∞–ª–æ–≤ –∏–∑ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è`
- `üì® –ü–æ–ª—É—á–µ–Ω–æ —Å–æ–æ–±—â–µ–Ω–∏–µ –∏–∑ –∫–∞–Ω–∞–ª–∞ ...`
- `‚úÖ –°–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ –±–æ—Ç—É —á–µ—Ä–µ–∑ webhook`

**–ï—Å–ª–∏ –Ω–µ –≤–∏–¥–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏—è:**
- Worker –Ω–µ –ø–æ–¥–∫–ª—é—á–µ–Ω –∫ Telegram
- –ê–∫–∫–∞—É–Ω—Ç @yummspb –Ω–µ –ø–æ–¥–ø–∏—Å–∞–Ω –Ω–∞ –∫–∞–Ω–∞–ª
- –ö–∞–Ω–∞–ª –Ω–µ –≤ —Å–ø–∏—Å–∫–µ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

---

### –®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ Vercel
–ù–∞ Vercel Dashboard ‚Üí Deployments ‚Üí Logs

**–ß—Ç–æ –∏—Å–∫–∞—Ç—å:**
- `üì® [HANDLER] –ü–æ–ª—É—á–µ–Ω–æ –ø–µ—Ä–µ—Å–ª–∞–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –∏–∑ –∫–∞–Ω–∞–ª–∞!`
- `‚úÖ –ö–∞–Ω–∞–ª –Ω–∞–π–¥–µ–Ω: ...`
- `‚úÖ –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è –∏–∑–≤–ª–µ—á–µ–Ω—ã`

**–ï—Å–ª–∏ –Ω–µ –≤–∏–¥–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏—è:**
- Webhook –Ω–µ –ø–æ–ª—É—á–∏–ª update –æ—Ç worker'–∞
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ worker –æ—Ç–ø—Ä–∞–≤–∏–ª —Å–æ–æ–±—â–µ–Ω–∏–µ
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ CORS –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

---

### –®–∞–≥ 5: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å –±–æ—Ç–∞
–í Telegram –æ—Ç–ø—Ä–∞–≤—å—Ç–µ –±–æ—Ç—É: `/status`

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```
–ë–æ—Ç –∑–∞–ø—É—â–µ–Ω
–†–µ–∂–∏–º: MANUAL
–ü–æ—Ä–æ–≥ —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏: 0.8
```

**–ï—Å–ª–∏ –±–æ—Ç –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç:**
- –ë–æ—Ç –Ω–µ –∑–∞–ø—É—â–µ–Ω ‚Üí –û—Ç–ø—Ä–∞–≤—å—Ç–µ `/start`
- Webhook –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω ‚Üí –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Vercel

---

## üêõ –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è

### –ü—Ä–æ–±–ª–µ–º–∞: Worker –Ω–µ –≤–∏–¥–∏—Ç —Å–æ–æ–±—â–µ–Ω–∏—è –∏–∑ –∫–∞–Ω–∞–ª–∞

**–ü—Ä–∏—á–∏–Ω—ã:**
1. –ê–∫–∫–∞—É–Ω—Ç @yummspb –Ω–µ –ø–æ–¥–ø–∏—Å–∞–Ω –Ω–∞ –∫–∞–Ω–∞–ª
   - **–†–µ—à–µ–Ω–∏–µ:** –ü–æ–¥–ø–∏—à–∏—Ç–µ—Å—å –Ω–∞ –∫–∞–Ω–∞–ª —á–µ—Ä–µ–∑ Telegram Desktop/Web

2. –ö–∞–Ω–∞–ª –Ω–µ –≤ —Å–ø–∏—Å–∫–µ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
   - **–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ API –∫–∞–Ω–∞–ª–æ–≤, —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∫–∞–Ω–∞–ª –¥–æ–±–∞–≤–ª–µ–Ω —á–µ—Ä–µ–∑ `/addchannel`

3. Worker –Ω–µ –∑–∞–ø—É—â–µ–Ω
   - **–†–µ—à–µ–Ω–∏–µ:** `curl -X POST https://chatbot-tg.onrender.com/runner/start`

4. `TELEGRAM_SESSION_STRING` –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
   - **–†–µ—à–µ–Ω–∏–µ:** –ü–æ–ª—É—á–∏—Ç–µ —á–µ—Ä–µ–∑ QR-–ª–æ–≥–∏–Ω –∏ –¥–æ–±–∞–≤—å—Ç–µ –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

---

### –ü—Ä–æ–±–ª–µ–º–∞: Worker –≤–∏–¥–∏—Ç —Å–æ–æ–±—â–µ–Ω–∏—è, –Ω–æ –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –±–æ—Ç—É

**–ü—Ä–∏—á–∏–Ω—ã:**
1. `BOT_WEBHOOK_URL` –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
   - **–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤—å—Ç–µ –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è worker'–∞

2. Webhook –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω
   - **–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ Vercel –∑–∞–¥–µ–ø–ª–æ–∏–ª –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

3. CORS –æ—à–∏–±–∫–∞
   - **–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ CORS –≤ worker'–µ

---

### –ü—Ä–æ–±–ª–µ–º–∞: –ë–æ—Ç –Ω–µ –ø–æ–ª—É—á–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏—è

**–ü—Ä–∏—á–∏–Ω—ã:**
1. Webhook –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω
   - **–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ webhook –≤ Vercel

2. –ë–æ—Ç –Ω–µ –∑–∞–ø—É—â–µ–Ω
   - **–†–µ—à–µ–Ω–∏–µ:** –û—Ç–ø—Ä–∞–≤—å—Ç–µ `/start` –≤ Telegram –±–æ—Ç—É

3. –ö–∞–Ω–∞–ª –Ω–µ –Ω–∞–π–¥–µ–Ω –≤ –±–∞–∑–µ
   - **–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤—å—Ç–µ –∫–∞–Ω–∞–ª —á–µ—Ä–µ–∑ `/addchannel`

---

## üìã –ß–µ–∫-–ª–∏—Å—Ç –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏

- [ ] Worker –∑–∞–ø—É—â–µ–Ω (`/runner/status` –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç `isRunning: true`)
- [ ] Worker –ø–æ–¥–∫–ª—é—á–µ–Ω –∫ Telegram (`isConnected: true`)
- [ ] Worker –ø–æ–ª—É—á–∏–ª –∫–∞–Ω–∞–ª—ã (`‚úÖ –ü–æ–ª—É—á–µ–Ω–æ X –∫–∞–Ω–∞–ª–æ–≤`)
- [ ] API –∫–∞–Ω–∞–ª–æ–≤ —Ä–∞–±–æ—Ç–∞–µ—Ç (–≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –∫–∞–Ω–∞–ª–æ–≤)
- [ ] –ê–∫–∫–∞—É–Ω—Ç @yummspb –ø–æ–¥–ø–∏—Å–∞–Ω –Ω–∞ –∫–∞–Ω–∞–ª
- [ ] –°–æ–æ–±—â–µ–Ω–∏–µ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–æ –≤ –∫–∞–Ω–∞–ª–µ
- [ ] Worker –ø–æ–ª—É—á–∏–ª —Å–æ–æ–±—â–µ–Ω–∏–µ (–ª–æ–≥–∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç `üì® –ü–æ–ª—É—á–µ–Ω–æ —Å–æ–æ–±—â–µ–Ω–∏–µ`)
- [ ] Worker –æ—Ç–ø—Ä–∞–≤–∏–ª —Å–æ–æ–±—â–µ–Ω–∏–µ –±–æ—Ç—É (–ª–æ–≥–∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç `‚úÖ –°–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ`)
- [ ] –ë–æ—Ç –ø–æ–ª—É—á–∏–ª —Å–æ–æ–±—â–µ–Ω–∏–µ (–ª–æ–≥–∏ Vercel –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç –æ–±—Ä–∞–±–æ—Ç–∫—É)
- [ ] –ö–∞–Ω–∞–ª –Ω–∞–π–¥–µ–Ω –≤ –±–∞–∑–µ (`‚úÖ –ö–∞–Ω–∞–ª –Ω–∞–π–¥–µ–Ω`)
- [ ] –ë–æ—Ç –∑–∞–ø—É—â–µ–Ω (`/status` –≤ Telegram)
- [ ] –°–æ–±—ã—Ç–∏–µ —Å–æ–∑–¥–∞–Ω–æ –∏ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ –∞–¥–º–∏–Ω—É

