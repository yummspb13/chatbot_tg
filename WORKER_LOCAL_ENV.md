# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤–æ—Ä–∫–µ—Ä–∞ –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

## üìã –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ

### 1. Telegram Client API
```env
TELEGRAM_API_ID=–≤–∞—à_api_id
TELEGRAM_API_HASH=–≤–∞—à_api_hash
TELEGRAM_SESSION_STRING=–≤–∞—à–∞_—Å–µ—Å—Å–∏—è
```

**–ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å `TELEGRAM_SESSION_STRING`:**
1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –≤–æ—Ä–∫–µ—Ä: `cd worker && npm run dev`
2. –û—Ç–∫—Ä–æ–π—Ç–µ: `http://localhost:3001/auth/qr/start` (–∏–ª–∏ –ø–æ—Ä—Ç –≤–æ—Ä–∫–µ—Ä–∞)
3. –û—Ç—Å–∫–∞–Ω–∏—Ä—É–π—Ç–µ QR-–∫–æ–¥
4. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ `sessionString` –∏–∑ –æ—Ç–≤–µ—Ç–∞
5. –î–æ–±–∞–≤—å—Ç–µ –≤ `.env` –≤–æ—Ä–∫–µ—Ä–∞ –∏–ª–∏ –æ—Å–Ω–æ–≤–Ω–æ–π `.env`

### 2. –°–≤—è–∑—å —Å –æ—Å–Ω–æ–≤–Ω—ã–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º
```env
# –û—Å–Ω–æ–≤–Ω–æ–π URL –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (–±–µ–∑ /api/tg/webhook)
MAIN_APP_URL=http://localhost:3000

# –ò–ª–∏ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å BOT_WEBHOOK_URL (–ø–æ–ª–Ω—ã–π –ø—É—Ç—å –∫ webhook)
BOT_WEBHOOK_URL=http://localhost:3000/api/tg/webhook

# API –∫–ª—é—á –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ /api/channels
BOT_API_KEY=–≤–∞—à_api_key
```

**–í–∞–∂–Ω–æ:**
- `MAIN_APP_URL` - –±–∞–∑–æ–≤—ã–π URL (–±–µ–∑ `/api/tg/webhook`)
- `BOT_WEBHOOK_URL` - –ø–æ–ª–Ω—ã–π –ø—É—Ç—å –∫ webhook
- –í–æ—Ä–∫–µ—Ä –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `MAIN_APP_URL` –≤ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–µ, –∑–∞—Ç–µ–º `BOT_WEBHOOK_URL`

### 3. –ö–∞–Ω–∞–ª—ã –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
```env
# JSON –º–∞—Å—Å–∏–≤ –∫–∞–Ω–∞–ª–æ–≤
MONITOR_CHANNELS=[{"chatId":"-1001234567890","title":"–ù–∞–∑–≤–∞–Ω–∏–µ –∫–∞–Ω–∞–ª–∞"}]
```

–ò–ª–∏ –≤–æ—Ä–∫–µ—Ä –ø–æ–ª—É—á–∏—Ç –∫–∞–Ω–∞–ª—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —á–µ—Ä–µ–∑ API:
- `GET {MAIN_APP_URL}/api/channels`
- –° –∑–∞–≥–æ–ª–æ–≤–∫–æ–º `Authorization: Bearer {BOT_API_KEY}`

---

## üîß –ü—Ä–∏–º–µ—Ä –ø–æ–ª–Ω–æ–≥–æ .env –¥–ª—è –≤–æ—Ä–∫–µ—Ä–∞

–°–æ–∑–¥–∞–π—Ç–µ `worker/.env`:

```env
# Telegram Client API
TELEGRAM_API_ID=12345678
TELEGRAM_API_HASH=abcdef1234567890abcdef1234567890
TELEGRAM_SESSION_STRING=1BVtsOHwBu...

# –°–≤—è–∑—å —Å –æ—Å–Ω–æ–≤–Ω—ã–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º
MAIN_APP_URL=http://localhost:3000
BOT_API_KEY=17d38eb4c014c524e52675ab75661f0dcc8768cbc749a62e7309fabe6c9905cd

# –ö–∞–Ω–∞–ª—ã (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –µ—Å–ª–∏ –Ω–µ –ø–æ–ª—É—á–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ API)
MONITOR_CHANNELS=[{"chatId":"-1001234567890","title":"–¢–µ—Å—Ç–æ–≤—ã–π –∫–∞–Ω–∞–ª"}]

# –ü–æ—Ä—Ç –≤–æ—Ä–∫–µ—Ä–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
PORT=3001
```

---

## ‚ö†Ô∏è –ß–∞—Å—Ç—ã–µ –æ—à–∏–±–∫–∏

### 1. `TELEGRAM_SESSION_STRING –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω`
**–†–µ—à–µ–Ω–∏–µ:** –ê–≤—Ç–æ—Ä–∏–∑—É–π—Ç–µ—Å—å —á–µ—Ä–µ–∑ QR-–∫–æ–¥:
1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –≤–æ—Ä–∫–µ—Ä
2. –û—Ç–∫—Ä–æ–π—Ç–µ `http://localhost:3001/auth/qr/start`
3. –û—Ç—Å–∫–∞–Ω–∏—Ä—É–π—Ç–µ QR-–∫–æ–¥
4. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ `sessionString`

### 2. `MAIN_APP_URL` —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–æ—Ä—Ç
**–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:**
- –ù–∞ –∫–∞–∫–æ–º –ø–æ—Ä—Ç—É –∑–∞–ø—É—â–µ–Ω Next.js? (–æ–±—ã—á–Ω–æ 3000)
- `MAIN_APP_URL` –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å `http://localhost:3000` (–±–µ–∑ `/api/tg/webhook`)

### 3. –í–æ—Ä–∫–µ—Ä –Ω–µ –º–æ–∂–µ—Ç –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –±–æ—Ç—É
**–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:**
- Next.js —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω? (`npm run dev`)
- `MAIN_APP_URL` –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π?
- `BOT_API_KEY` —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å –æ—Å–Ω–æ–≤–Ω—ã–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º?

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

1. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ Next.js:**
   ```bash
   npm run dev
   ```
   –î–æ–ª–∂–µ–Ω –±—ã—Ç—å –Ω–∞ `http://localhost:3000`

2. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤–æ—Ä–∫–µ—Ä–∞:**
   ```env
   MAIN_APP_URL=http://localhost:3000
   TELEGRAM_SESSION_STRING=... (–ø–æ–ª—É—á–∏—Ç—å —á–µ—Ä–µ–∑ QR)
   ```

3. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –≤–æ—Ä–∫–µ—Ä:**
   ```bash
   cd worker && npm run dev
   ```

4. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏:**
   - –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: `‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω –∫ Telegram —á–µ—Ä–µ–∑ Client API`
   - –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: `üì° –ù–∞—á–∏–Ω–∞—é –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ X –∫–∞–Ω–∞–ª–æ–≤...`

