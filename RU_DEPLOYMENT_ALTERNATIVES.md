# Альтернативы для деплоя в РФ

## Проблема с Render.com в РФ

⚠️ **Render.com может быть недоступен из России:**
- Блокировка доступа к сайту
- Проблемы с оплатой (санкции)
- Проблемы с API

## Альтернативные решения

### 1. Российские хостинги (РЕКОМЕНДУЕТСЯ)

#### Timeweb
- ✅ Полностью доступен в РФ
- ✅ Приемлемые цены
- ✅ Поддержка Node.js
- ✅ VPS от 200₽/месяц

**Настройка:**
```bash
# На VPS установите Node.js
curl -fsSL https://deb.nodesource.com/setup_20.x | sudo -E bash -
sudo apt-get install -y nodejs

# Клонируйте репозиторий
git clone https://github.com/yummspb13/chatbot_tg.git
cd chatbot_tg/worker

# Установите зависимости
npm install

# Создайте .env файл
cp .env.example .env
# Заполните переменные окружения

# Запустите через PM2 (для постоянной работы)
npm install -g pm2
pm2 start npm --name "afisha-worker" -- start
pm2 save
pm2 startup
```

#### Selectel
- ✅ Российский хостинг
- ✅ VPS от 300₽/месяц
- ✅ Хорошая поддержка

#### REG.RU
- ✅ Российский хостинг
- ✅ VPS от 250₽/месяц

### 2. VPS с VPN (если нужен зарубежный хостинг)

#### Hetzner (Германия)
- ✅ Низкие цены (€4/месяц)
- ✅ Хорошая производительность
- ⚠️ Нужен VPN для доступа из РФ

#### DigitalOcean
- ✅ Популярный сервис
- ⚠️ Нужен VPN для доступа из РФ

### 3. Локальный сервер

Если у вас есть постоянный доступ к компьютеру:
- ✅ Бесплатно
- ✅ Полный контроль
- ⚠️ Нужен статический IP или DynDNS
- ⚠️ Компьютер должен быть всегда включен

### 4. Другие облачные платформы

#### Railway.app
- ✅ Поддерживает Node.js
- ⚠️ Может быть недоступен из РФ

#### Fly.io
- ✅ Бесплатный тариф
- ⚠️ Может быть недоступен из РФ

## Рекомендация для РФ

**Лучший вариант: Timeweb VPS**

1. **Регистрация:**
   - Зайдите на [timeweb.com](https://timeweb.com)
   - Зарегистрируйтесь
   - Закажите VPS (минимальный тариф ~200₽/месяц)

2. **Настройка:**
   ```bash
   # Подключитесь по SSH
   ssh root@ваш_сервер
   
   # Установите Node.js
   curl -fsSL https://deb.nodesource.com/setup_20.x | sudo -E bash -
   sudo apt-get install -y nodejs
   
   # Установите PM2 для постоянной работы
   npm install -g pm2
   
   # Клонируйте репозиторий
   git clone https://github.com/yummspb13/chatbot_tg.git
   cd chatbot_tg/worker
   
   # Установите зависимости
   npm install
   
   # Создайте .env
   nano .env
   # Добавьте все переменные окружения
   
   # Запустите через PM2
   pm2 start npm --name "afisha-worker" -- start
   pm2 save
   pm2 startup
   ```

3. **Автозапуск:**
   - PM2 автоматически запустит worker при перезагрузке сервера
   - Логи: `pm2 logs afisha-worker`
   - Перезапуск: `pm2 restart afisha-worker`

## Для Next.js (админ-панель)

Next.js можно оставить на Vercel (он работает через API, не требует постоянного соединения), или тоже перенести на Timeweb.

### Вариант 1: Оставить на Vercel
- ✅ Бесплатно
- ✅ Работает из РФ (через API)
- ⚠️ Может быть медленнее

### Вариант 2: Перенести на Timeweb
- ✅ Все в одном месте
- ✅ Быстрее для пользователей из РФ
- ⚠️ Нужна настройка Nginx

## Итоговая архитектура для РФ

```
┌─────────────────┐
│  Timeweb VPS    │
│  (Worker)       │
│  - Мониторинг   │
│  - Client API   │
└────────┬────────┘
         │
         │ HTTP
         ▼
┌─────────────────┐
│  Vercel         │
│  (Next.js)      │
│  - Админ-панель │
│  - Webhook      │
└─────────────────┘
```

Или все на Timeweb:

```
┌─────────────────┐
│  Timeweb VPS    │
│  - Worker       │
│  - Next.js      │
│  - Nginx        │
└─────────────────┘
```

## Стоимость

- **Timeweb VPS:** ~200-500₽/месяц
- **Vercel:** бесплатно (для Next.js)
- **Итого:** ~200-500₽/месяц (вместо $7-9 на Render.com)

## Преимущества российского хостинга

✅ Полная доступность из РФ  
✅ Приемлемые цены  
✅ Поддержка на русском языке  
✅ Нет проблем с оплатой  
✅ Быстрая скорость для пользователей из РФ  

