# –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ DATABASE_URL –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

## ‚ùå –ü—Ä–æ–±–ª–µ–º–∞:

```
Error validating datasource `db`: the URL must start with the protocol `postgresql://` or `postgres://`.
```

**–ü—Ä–∏—á–∏–Ω–∞:** –í `.env` —É–∫–∞–∑–∞–Ω SQLite —Ñ–æ—Ä–º–∞—Ç (`file:./dev.db`), –Ω–æ `schema.prisma` –Ω–∞—Å—Ç—Ä–æ–µ–Ω –Ω–∞ PostgreSQL.

---

## ‚úÖ –†–µ—à–µ–Ω–∏–µ 1: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å PostgreSQL (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

### –ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å PostgreSQL –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:

1. **–î–æ–±–∞–≤—å—Ç–µ –≤ `.env`:**
   ```env
   DATABASE_URL="postgresql://user:password@host:5432/dbname?sslmode=require"
   ```

2. **–í—ã–ø–æ–ª–Ω–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏—é:**
   ```bash
   npx prisma generate
   npx prisma db push
   ```

3. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞:**
   ```bash
   npm run bot:polling
   ```

---

## ‚úÖ –†–µ—à–µ–Ω–∏–µ 2: –í—Ä–µ–º–µ–Ω–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å SQLite (–¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)

### –ï—Å–ª–∏ –Ω–µ—Ç PostgreSQL, –º–æ–∂–Ω–æ –≤—Ä–µ–º–µ–Ω–Ω–æ –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å –Ω–∞ SQLite:

1. **–ò–∑–º–µ–Ω–∏—Ç–µ `prisma/schema.prisma`:**
   ```prisma
   datasource db {
     provider = "sqlite"
     url      = env("DATABASE_URL")
   }
   ```

2. **–û–±–Ω–æ–≤–∏—Ç–µ `.env`:**
   ```env
   DATABASE_URL="file:./dev.db"
   ```

3. **–í—ã–ø–æ–ª–Ω–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏—é:**
   ```bash
   npx prisma generate
   npx prisma db push
   ```

4. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞:**
   ```bash
   npm run bot:polling
   ```

‚ö†Ô∏è **–í–∞–∂–Ω–æ:** –ü–æ—Å–ª–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≤–µ—Ä–Ω–∏—Ç–µ PostgreSQL –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞!

---

## üîê –ü—Ä–æ–±–ª–µ–º–∞ —Å –¥–æ—Å—Ç—É–ø–æ–º:

**–û—à–∏–±–∫–∞:** `Access denied. User ID: 7007868967`

**–ü—Ä–∏—á–∏–Ω–∞:** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å `7007868967` (–∞–∫–∫–∞—É–Ω—Ç @yummspb) –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –∞–¥–º–∏–Ω–æ–º.

**–†–µ—à–µ–Ω–∏–µ:**

1. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∞–¥–º–∏–Ω—Å–∫–∏–π –∞–∫–∫–∞—É–Ω—Ç** (ID: `120352240`) –¥–ª—è –∫–æ–º–∞–Ω–¥
2. **–ò–ª–∏ –∏–∑–º–µ–Ω–∏—Ç–µ `TELEGRAM_ADMIN_CHAT_ID` –≤ `.env`:**
   ```env
   TELEGRAM_ADMIN_CHAT_ID=7007868967
   ```

‚ö†Ô∏è **–í–∞–∂–Ω–æ:** –ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞!

---

## üìã –ò—Ç–æ–≥–æ:

1. ‚úÖ –ò—Å–ø—Ä–∞–≤—å—Ç–µ `DATABASE_URL` (PostgreSQL –∏–ª–∏ SQLite)
2. ‚úÖ –í—ã–ø–æ–ª–Ω–∏—Ç–µ `npx prisma generate && npx prisma db push`
3. ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –∞–¥–º–∏–Ω—Å–∫–∏–π –∞–∫–∫–∞—É–Ω—Ç
4. ‚úÖ –ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞: `npm run bot:polling`

