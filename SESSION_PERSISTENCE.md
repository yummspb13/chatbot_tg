# Сохранение сессии Telegram

## Важно: Сессия НЕ пропадет после перезапуска воркера!

### Как это работает:

1. **После QR-авторизации:**
   - Сессия генерируется автоматически
   - Сессия показывается на экране админ-панели
   - Вы копируете сессию

2. **Добавление в Render.com:**
   - Откройте Render Dashboard
   - Выберите ваш воркер (chatbot-tg)
   - Перейдите в **Environment**
   - Добавьте переменную: `TELEGRAM_SESSION_STRING`
   - Вставьте скопированную сессию в значение
   - Сохраните

3. **После сохранения:**
   - Render.com автоматически перезапустит воркер
   - Воркер загрузит сессию из `TELEGRAM_SESSION_STRING`
   - Сессия будет работать даже после "засыпания" воркера (free tier)

### Что происходит при перезапуске:

- ✅ **Сессия сохраняется** в Environment Variables Render.com
- ✅ **Воркер использует** сохраненную сессию при старте
- ✅ **Не нужно** делать QR-авторизацию заново
- ✅ **Работает** даже на free tier (после "пробуждения")

### Free Tier на Render.com:

- ⚠️ Воркер "засыпает" после 15 минут бездействия
- ✅ После первого запроса воркер "просыпается" (30-60 секунд)
- ✅ Сессия загружается из Environment Variables
- ✅ Не нужно авторизоваться заново

### Если сессия не работает:

1. Проверьте, что `TELEGRAM_SESSION_STRING` добавлена в Render.com
2. Проверьте, что значение правильное (скопировано полностью)
3. Перезапустите воркер вручную в Render Dashboard
4. Проверьте логи воркера - должны быть сообщения о загрузке сессии

---

## Итого:

**НЕТ, сессия НЕ пропадет!** Она сохраняется в Environment Variables Render.com и используется при каждом перезапуске воркера.

