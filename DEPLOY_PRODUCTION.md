# üöÄ –î–µ–ø–ª–æ–π –Ω–∞ Vercel (–ü—Ä–æ–¥–∞–∫—à–µ–Ω)

## üìã –ß–µ–∫–ª–∏—Å—Ç –ø–µ—Ä–µ–¥ –¥–µ–ø–ª–æ–µ–º

### 1. –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ Vercel

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –ø—Ä–æ–µ–∫—Ç–∞ Vercel:

#### –û—Å–Ω–æ–≤–Ω—ã–µ
- `TELEGRAM_BOT_TOKEN` - —Ç–æ–∫–µ–Ω –±–æ—Ç–∞
- `TELEGRAM_ADMIN_CHAT_ID` - –≤–∞—à Telegram ID (120352240)
- `TELEGRAM_PUBLISH_GROUP_ID` - ID –≥—Ä—É–ø–ø—ã –¥–ª—è –∫–∞—Ä—Ç–æ—á–µ–∫ –æ–¥–æ–±—Ä–µ–Ω–∏—è (-4993347411)

#### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- `DATABASE_URL` - —Å—Ç—Ä–æ–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ PostgreSQL

#### AI (OpenAI –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞)
- `AI_PROVIDER=openai` - –∏—Å–ø–æ–ª—å–∑—É–µ–º OpenAI
- `OPENAI_API_KEY` - –≤–∞—à –∫–ª—é—á OpenAI API
- `OPENAI_MODEL=gpt-4o-mini` - –º–æ–¥–µ–ª—å (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

#### –ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å
- `ADMIN_PASSWORD_HASH` - —Ö–µ—à –ø–∞—Ä–æ–ª—è (—Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —á–µ—Ä–µ–∑ `npm run admin:password-hash`)
- `JWT_SECRET` - —Å–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á –¥–ª—è JWT

#### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- `BOT_API_KEY` - –¥–ª—è API –º–µ–∂–¥—É worker –∏ –æ—Å–Ω–æ–≤–Ω—ã–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º
- `WORKER_API_KEY` - –¥–ª—è worker

### 2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ webhook –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –¥–µ–ø–ª–æ—è –Ω–∞ Vercel:

```bash
npm run webhook:set:prod https://your-app.vercel.app
```

–ò–ª–∏ –≤—Ä—É—á–Ω—É—é —á–µ—Ä–µ–∑ API:
```bash
curl -X POST "https://api.telegram.org/bot<TOKEN>/setWebhook" \
  -H "Content-Type: application/json" \
  -d '{
    "url": "https://your-app.vercel.app/api/tg/webhook",
    "allowed_updates": ["message", "edited_message", "channel_post", "edited_channel_post", "callback_query", "inline_query", "chosen_inline_result", "poll", "poll_answer", "my_chat_member", "chat_member", "chat_join_request"]
  }'
```

### 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ webhook:
   ```bash
   npm run webhook:check
   ```

2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ —Ç–µ—Å—Ç–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ –∫–∞–Ω–∞–ª

3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –∫–∞—Ä—Ç–æ—á–∫–∞ –æ–¥–æ–±—Ä–µ–Ω–∏—è –ø—Ä–∏—Ö–æ–¥–∏—Ç –≤ –≥—Ä—É–ø–ø—É

4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–±–æ—Ç—É –∫–Ω–æ–ø–æ–∫ "–ü—Ä–∏–Ω—è—Ç—å" –∏ "–û—Ç–∫–∞–∑–∞—Ç—å"

## üîß –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –¥–µ–ø–ª–æ—è

```bash
# 1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∑–∞–∫–æ–º–º–∏—á–µ–Ω—ã
git add .
git commit -m "Prepare for production deployment"
git push

# 2. –î–µ–ø–ª–æ–π –Ω–∞ Vercel (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —á–µ—Ä–µ–∑ git push)
# –ò–ª–∏ —á–µ—Ä–µ–∑ Vercel CLI:
vercel --prod

# 3. –ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ webhook
npm run webhook:set:prod https://your-app.vercel.app

# 4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ webhook
npm run webhook:check
```

## ‚ö†Ô∏è –í–∞–∂–Ω–æ

1. **AI_PROVIDER**: –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ Vercel —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω `AI_PROVIDER=openai`
2. **OPENAI_API_KEY**: –î–æ–ª–∂–µ–Ω –±—ã—Ç—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏ –≤–∞–ª–∏–¥–µ–Ω
3. **Webhook**: –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è
4. **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**: –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ `DATABASE_URL` —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω—É—é –ë–î
5. **–¢–∞–±–ª–∏—Ü—ã**: –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—Å–µ —Ç–∞–±–ª–∏—Ü—ã —Å–æ–∑–¥–∞–Ω—ã (–ø—Ä–µ—Ñ–∏–∫—Å `afisha_bot_`)

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ:

1. ‚úÖ –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏—è –≤ –∫–∞–Ω–∞–ª ‚Üí —Å–æ–∑–¥–∞–µ—Ç—Å—è —á–µ—Ä–Ω–æ–≤–∏–∫
2. ‚úÖ –ö–∞—Ä—Ç–æ—á–∫–∞ –æ–¥–æ–±—Ä–µ–Ω–∏—è –ø—Ä–∏—Ö–æ–¥–∏—Ç –≤ –≥—Ä—É–ø–ø—É
3. ‚úÖ –ö–Ω–æ–ø–∫–∞ "–ü—Ä–∏–Ω—è—Ç—å" ‚Üí –æ—Ç–ø—Ä–∞–≤–∫–∞ –≤ –ê—Ñ–∏—à—É
4. ‚úÖ –ö–Ω–æ–ø–∫–∞ "–û—Ç–∫–∞–∑–∞—Ç—å" ‚Üí –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ —á–µ—Ä–Ω–æ–≤–∏–∫–∞
5. ‚úÖ –ö–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞ —Ä–∞–±–æ—Ç–∞—é—Ç (`/start`, `/status`)

## üìù –õ–æ–≥–∏

–õ–æ–≥–∏ –º–æ–∂–Ω–æ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤ Vercel Dashboard ‚Üí Functions ‚Üí Logs

–ò–ª–∏ —á–µ—Ä–µ–∑ Vercel CLI:
```bash
vercel logs
```

